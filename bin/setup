#!/bin/zsh

cd ~ || exit

files=(.vimrc .tmux.conf .zshrc .zshenv .pryrc ".oh-my-zsh/custom/themes/my.zsh-theme")
mines=( vimrc  tmux.conf  zshrc  zshenv  pryrc  my.zsh-theme)
files_length=${#files[@]}
mines_length=${#mines[@]}

echo "$files_length"
if [ $files_length != $mines_length ]; then
  printf "\nArrays 'files' and 'mines' do not match in length"
  printf "\nEach 'file' requires a corresponding 'mine' version"
  printf "\n\nCheck the arrays and re-run."
  exit
fi

for ((i = 1; i <= $files_length; i++)); do
  echo "${files[$i]}"
  if [ ! -h ${files[$i]} ]; then
    echo "Not found: ${files[$i]}"
    echo "Creating SYMLINK..."
    ln -s ~/dotfiles/${mines[$i]} ${files[$i]}
    if [ ! -h ${files[$i]} ]; then
      echo "PANIC - unable to create SYMLINK"
      echo "Failure while trying to create ${files[$i]}"
      exit
    fi
    echo "Success!"
  fi
  echo "All set."
done

cd ~/.oh-my-zsh/custom/plugins || exit
git clone https://github.com/zsh-users/zsh-autosuggestions.git

cd ~/.rbenv/ || exit
mkdir plugins
cd plugins
git clone https://github.com/rbenv/ruby-build.git
